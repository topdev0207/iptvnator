<ng-container *ngIf="channel; else noEpg">
    <div fxFlex="80px" id="channel-info" fxLayoutAlign="row" fxLayoutGap="10px">
        <img *ngIf="channel?.icon" [src]="channel.icon" width="48" />
        <div>
            <div class="channel-name">{{ channel?.name[0]?.value }}</div>
            <ng-container>
                <div class="playing-now">Playing now:</div>
                <div class="epg-program-name">
                    {{
                        playingNow ? playingNow.title[0]?.value : 'Live stream'
                    }}
                </div>
            </ng-container>
        </div>
    </div>
    <mat-selection-list fxFlex [multiple]="false">
        <mat-list-option
            *ngFor="let item of items"
            [value]="item"
            [class.active]="timeNow >= item.start && timeNow <= item.stop"
            (click)="
                setEpgProgram(
                    item,
                    timeNow >= item.start && timeNow <= item.stop
                )
            "
        >
            <div matLine>
                <span class="time">{{ item.start }} - {{ item.stop }}</span>
                <span
                    *ngIf="timeNow >= item.start && timeNow <= item.stop"
                    class="live-badge"
                    >live</span
                >
            </div>
            <p matLine>{{ item?.title[0]?.value }}</p>
            <mat-divider></mat-divider>
        </mat-list-option>
    </mat-selection-list>
</ng-container>
<ng-template #noEpg>
    <mat-list>
        <mat-list-item>
            Ooops, EPG is not available for this channel.<br />
            Please add/change the url of EPG list the settings of the app.
        </mat-list-item>
    </mat-list>
</ng-template>
